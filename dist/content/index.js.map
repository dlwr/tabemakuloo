{"version":3,"file":"index.js","sources":["../../src/content/index.ts"],"sourcesContent":["import browser from 'webextension-polyfill'\nimport type {PostData} from '@/types'\n\nclass ContentScript {\n  constructor() {\n    this.init()\n  }\n\n  private init(): void {\n    this.setupMessageListener()\n  }\n\n  private setupMessageListener(): void {\n    browser.runtime.onMessage.addListener(this.handleMessage.bind(this))\n  }\n\n  private async handleMessage(message: unknown): Promise<void> {\n    console.log('Content script received message:', message)\n\n    // Extract post data from current page\n    const postData = this.extractPostData()\n    console.log('Extracted post data:', postData)\n  }\n\n  private extractPostData(): PostData {\n    const title = document.title\n    const url = window.location.href\n    const description = this.getMetaContent('description') ?? this.getSelectedText()\n    const image = this.getMetaContent('og:image')\n\n    return {\n      title,\n      url,\n      description,\n      image: image ?? undefined,\n    }\n  }\n\n  private getMetaContent(name: string): string | undefined {\n    const meta = document.querySelector(`meta[name=\"${name}\"], meta[property=\"${name}\"]`)\n    return meta?.getAttribute('content') ?? undefined\n  }\n\n  private getSelectedText(): string {\n    return window.getSelection()?.toString() ?? ''\n  }\n}\n\nvoid new ContentScript()\n"],"names":["ContentScript","browser","message","postData","title","url","description","image","name","meta","_a"],"mappings":"2DAGA,MAAMA,CAAc,CAClB,aAAc,CACZ,KAAK,KAAA,CAAK,CAGJ,MAAa,CACnB,KAAK,qBAAA,CAAqB,CAGpB,sBAA6B,CACnCC,EAAQ,QAAQ,UAAU,YAAY,KAAK,cAAc,KAAK,IAAI,CAAC,CAAA,CAGrE,MAAc,cAAcC,EAAiC,CAC3D,QAAQ,IAAI,mCAAoCA,CAAO,EAGvD,MAAMC,EAAW,KAAK,gBAAA,EACtB,QAAQ,IAAI,uBAAwBA,CAAQ,CAAA,CAGtC,iBAA4B,CAClC,MAAMC,EAAQ,SAAS,MACjBC,EAAM,OAAO,SAAS,KACtBC,EAAc,KAAK,eAAe,aAAa,GAAK,KAAK,gBAAA,EACzDC,EAAQ,KAAK,eAAe,UAAU,EAE5C,MAAO,CACL,MAAAH,EACA,IAAAC,EACA,YAAAC,EACA,MAAOC,GAAS,MAAA,CAClB,CAGM,eAAeC,EAAkC,CACvD,MAAMC,EAAO,SAAS,cAAc,cAAcD,CAAI,sBAAsBA,CAAI,IAAI,EACpF,OAAOC,GAAA,YAAAA,EAAM,aAAa,aAAc,MAAA,CAGlC,iBAA0B,OAChC,QAAOC,EAAA,OAAO,iBAAP,YAAAA,EAAuB,aAAc,EAAA,CAEhD,CAEK,IAAIV"}