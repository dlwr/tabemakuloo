import{b as o}from"../chunks/browser-polyfill.DX5UB71L.js";class i{constructor(){this.init()}init(){this.setupMessageListener()}setupMessageListener(){o.runtime.onMessage.addListener(this.handleMessage.bind(this))}async handleMessage(t){console.log("Content script received message:",t);const e=this.extractPostData();console.log("Extracted post data:",e)}extractPostData(){const t=document.title,e=window.location.href,s=this.getMetaContent("description")??this.getSelectedText(),n=this.getMetaContent("og:image");return{title:t,url:e,description:s,image:n??void 0}}getMetaContent(t){const e=document.querySelector(`meta[name="${t}"], meta[property="${t}"]`);return(e==null?void 0:e.getAttribute("content"))??void 0}getSelectedText(){var t;return((t=window.getSelection())==null?void 0:t.toString())??""}}new i;
//# sourceMappingURL=index.js.map
